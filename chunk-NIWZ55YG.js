import{a as E,b as v,c as j,d as q,e as M,g as T,h as k,l as V,m as D,n as G,o as A}from"./chunk-AERWOUOB.js";import{C as m,Ca as x,D as a,Da as R,Fa as N,K as l,M as d,O as n,P as s,Q as h,S as g,T as b,V as p,ca as y,ea as _,n as u,s as C,t as f,ta as F,va as I,ya as S,za as P}from"./chunk-2I5E5T3I.js";function K(t,e){t&1&&(n(0,"span",20),p(1,"Password is Required!"),s())}function L(t,e){if(t&1&&(n(0,"div",19),l(1,K,2,0,"span",17),s()),t&2){let c=b();m(),d("ngIf",c.resetForm.get("password").errors.required&&c.submitted)}}function Q(t,e){t&1&&(n(0,"span",20),p(1,"Confirm Password is Required!"),s())}function W(t,e){if(t&1&&(n(0,"div",19),l(1,Q,2,0,"span",17),s()),t&2){let c=b();m(),d("ngIf",c.resetForm.get("cpassword").errors.required&&c.submitted)}}function X(t,e){t&1&&(n(0,"span",20),p(1,"New Password and Confirm Password must be same! "),s())}var J=(()=>{let e=class e{constructor(r,o,i,w,U,z,H){this.activatedRoute=r,this.fb=o,this.jwtservice=i,this.router=w,this.dataService=U,this.toastr=z,this.spinner=H,this.submitted=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(r=>{let o=r.get("token");this.resetForm=this.fb.group({token:[o,[v.required]],cpassword:["",[v.required]],password:["",[v.required]]},{validator:this.passwordMatchValidator})})}resetPassword(){this.spinner.show(),this.dataService.resetPassword(this.resetForm.value).subscribe(r=>{this.spinner.hide(),r.statusCode===200?(this.toastr.success(r.message,"Success"),this.router.navigate(["/"])):this.toastr.error(r.message,"Error")},r=>{this.spinner.hide(),this.toastr.error("Something went wrong","Error")})}passwordMatchValidator(r){return r.controls.password.value===r.controls.cpassword.value?null:{mismatch:!0}}};e.\u0275fac=function(o){return new(o||e)(a(F),a(D),a(P),a(I),a(x),a(R),a(N))},e.\u0275cmp=C({type:e,selectors:[["app-reset-password"]],decls:26,vars:4,consts:[[1,"auth-page"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-xxl-12","col-lg-12","col-md-12"],[1,"auth-full-page-content","d-flex","p-sm-5","p-4","card"],[1,"w-100"],[1,"d-flex","flex-column","h-100"],[1,"auth-content","my-auto"],[1,"text-center"],[1,"mb-0"],["novalidate","",1,"mt-4","pt-2",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"input-group","auth-pass-inputgroup"],["type","password","name","password","formControlName","password","placeholder","Password","required","","aria-label","Password","aria-describedby","password-addon",1,"form-control"],[1,"glyphicon","glyphicon-lock","form-control-feedback"],["class","mt-1",4,"ngIf"],["type","password","name","cpassword","formControlName","cpassword","placeholder","Confirm Password","required","","aria-label","Password","aria-describedby","password-addon",1,"form-control"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","waves-effect","waves-light",3,"click"],[1,"mt-1"],[1,"text-danger"]],template:function(o,i){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),p(10,"Reset Password !"),s()(),n(11,"form",10),g("ngSubmit",function(){return i.resetForm.valid&&i.resetPassword()}),n(12,"div",11)(13,"div",12),h(14,"input",13)(15,"span",14),s(),l(16,L,2,1,"div",15),s(),n(17,"div",11)(18,"div",12),h(19,"input",16)(20,"span",14),s(),l(21,W,2,1,"div",15)(22,X,2,0,"span",17),s(),n(23,"div",11)(24,"button",18),g("click",function(){return i.submitted=!0}),p(25,"Submit"),s()()()()()()()()()()()),o&2&&(m(11),d("formGroup",i.resetForm),m(5),d("ngIf",i.resetForm.get("password").errors&&i.submitted),m(5),d("ngIf",i.resetForm.get("cpassword").errors&&i.submitted),m(),d("ngIf",i.resetForm.get("cpassword").value&&(i.resetForm.errors==null?null:i.resetForm.errors.mismatch)&&i.submitted))},dependencies:[y,M,E,j,q,V,T,k]});let t=e;return t})();var Y=[{path:"",component:J}],O=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f({type:e}),e.\u0275inj=u({imports:[S.forChild(Y),S]});let t=e;return t})();var ve=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f({type:e}),e.\u0275inj=u({imports:[_,O,G,A]});let t=e;return t})();export{ve as ResetPasswordModule};
