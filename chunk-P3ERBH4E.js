import{a as q,b as w,c as L,d as T,e as M,g as R,h as D,l as G,m as P,n as V,o as B}from"./chunk-AERWOUOB.js";import{C as m,Ca as k,D as l,Da as N,Fa as j,K as c,M as d,O as i,P as r,Q as v,S as h,T as b,V as s,Y as y,ca as C,ea as _,n as u,s as S,t as f,va as F,wa as E,ya as x,za as I}from"./chunk-2I5E5T3I.js";var z=()=>["/forget-password"];function H(t,e){t&1&&(i(0,"span",27),s(1,"Email is Required!"),r())}function K(t,e){if(t&1&&(i(0,"div"),c(1,H,2,0,"span",26),r()),t&2){let p=b();m(),d("ngIf",p.loginForm.get("email").errors.required&&p.submitted)}}function Q(t,e){t&1&&(i(0,"span",27),s(1,"Password is Required!"),r())}function X(t,e){if(t&1&&(i(0,"div"),c(1,Q,2,0,"span",26),r()),t&2){let p=b();m(),d("ngIf",p.loginForm.get("password").errors.required&&p.submitted)}}var A=(()=>{let e=class e{constructor(o,n,a,g,O,W){this.fb=o,this.jwtservice=n,this.router=a,this.dataService=g,this.toastr=O,this.spinner=W,this.submitted=!1}ngOnInit(){this.loginForm=this.fb.group({email:["",[w.required]],password:["",w.required]})}login(){this.spinner.show(),this.dataService.loginUser(this.loginForm.value).subscribe(o=>{this.spinner.hide(),o.statusCode===200?(this.jwtservice.saveToken(o.token),this.toastr.success("logged in successful!","Success"),this.router.navigate(["/dashboard"])):this.toastr.error(o.message,"Error")},o=>{this.spinner.hide(),this.toastr.error("Something went wrong","Error")})}};e.\u0275fac=function(n){return new(n||e)(l(P),l(I),l(F),l(k),l(N),l(j))},e.\u0275cmp=S({type:e,selectors:[["app-login"]],decls:36,vars:5,consts:[[1,"auth-page"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-xxl-12","col-lg-12","col-md-12"],[1,"auth-full-page-content","d-flex","p-sm-5","p-4","card"],[1,"w-100"],[1,"d-flex","flex-column","h-100"],[1,"auth-content","my-auto"],[1,"text-center"],[1,"mb-0"],[1,"text-muted","mt-2"],["novalidate","",1,"mt-4","pt-2",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","name","email","formControlName","email","placeholder","Email","required","",1,"form-control"],[1,"glyphicon","glyphicon-envelope","form-control-feedback"],[4,"ngIf"],[1,"d-flex","align-items-start"],[1,"flex-grow-1"],[1,"flex-shrink-0"],[1,""],[1,"text-muted",3,"routerLink"],[1,"input-group","auth-pass-inputgroup"],["type","password","name","password","formControlName","password","placeholder","Password","required","","aria-label","Password","aria-describedby","password-addon",1,"form-control"],[1,"glyphicon","glyphicon-lock","form-control-feedback"],["type","submit",1,"btn","btn-primary","w-100","waves-effect","waves-light",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(n,a){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),s(10,"Welcome Back !"),r(),i(11,"p",10),s(12,"Sign in to continue"),r()(),i(13,"form",11),h("ngSubmit",function(){return a.loginForm.valid&&a.login()}),i(14,"div",12)(15,"label",13),s(16,"Email"),r(),v(17,"input",14)(18,"span",15),r(),c(19,K,2,1,"div",16),i(20,"div",12)(21,"div",17)(22,"div",18)(23,"label",13),s(24,"Password"),r()(),i(25,"div",19)(26,"div",20)(27,"a",21),s(28,"Forgot password?"),r()()()(),i(29,"div",22),v(30,"input",23)(31,"span",24),r()(),c(32,X,2,1,"div",16),i(33,"div",12)(34,"button",25),h("click",function(){return a.submitted=!0}),s(35,"Log In"),r()()()()()()()()()()()),n&2&&(m(13),d("formGroup",a.loginForm),m(6),d("ngIf",a.loginForm.get("email").errors&&a.submitted),m(8),d("routerLink",y(4,z)),m(5),d("ngIf",a.loginForm.get("password").errors&&a.submitted))},dependencies:[M,q,L,T,G,R,D,C,E]});let t=e;return t})();var Y=[{path:"",component:A}],J=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=u({imports:[x.forChild(Y),x]});let t=e;return t})();var ge=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=u({imports:[V,B,_,J]});let t=e;return t})();export{ge as LoginModule};
